<div class="peliculas-container">
  <div class="header-section">
    <h2>Pel√≠culas</h2>
    <div class="buscador">
      <input
        type="text"
        placeholder="Buscar pel√≠culas..."
        [(ngModel)]="terminoBusqueda"
        (input)="buscar($event)"
        class="buscador-input"
      >
      <span class="icono-buscar">üîç</span>
    </div>
  </div>

  <!-- Secci√≥n de filtros -->
  <div class="filtros-section">
    <h3>Filtros</h3>
    <div class="filtros-grid">
      <!-- Filtro por g√©nero -->
      <div class="filtro-item">
        <label for="genero">G√©nero:</label>
        <select id="genero" [(ngModel)]="filtros.genero" (change)="aplicarFiltros()">
          <option value="">Todos los g√©neros</option>
          <option *ngFor="let genero of generos" [value]="genero.id">
            {{genero.name}}
          </option>
        </select>
      </div>

      <!-- Filtro por a√±o -->
      <div class="filtro-item">
        <label for="a√±o">A√±o:</label>
        <select id="a√±o" [(ngModel)]="filtros.anio" (change)="aplicarFiltros()">
          <option value="">Todos los a√±os</option>
          <option *ngFor="let anio of anios" [value]="anio">{{anio}}</option>
        </select>
      </div>

      <!-- Filtro por calificaci√≥n -->
      <div class="filtro-item">
        <label for="calificacion">Calificaci√≥n m√≠nima: {{filtros.calificacionMinima}}</label>
        <input
          type="range"
          id="calificacion"
          [(ngModel)]="filtros.calificacionMinima"
          (input)="aplicarFiltros()"
          min="0"
          max="10"
          step="0.5"
        >
      </div>

      <!-- Bot√≥n para limpiar filtros -->
      <button class="limpiar-filtros" (click)="limpiarFiltros()">
        Limpiar filtros
      </button>
    </div>
  </div>

  <div class="peliculas-grid">
    <div *ngFor="let pelicula of peliculasFiltradas" class="pelicula-card" (click)="verDetalle(pelicula.id)">
      <img [src]="obtenerUrlImagen(pelicula.poster_path)" [alt]="pelicula.title">
      <div class="pelicula-info">
        <h3>{{pelicula.title}}</h3>
        <p class="generos">{{obtenerNombresGeneros(pelicula.genre_ids)}}</p>
        <p class="rating">‚≠ê {{pelicula.vote_average | number:'1.1-1'}}</p>
        <p class="a√±o">{{pelicula.release_date | date:'yyyy'}}</p>
      </div>
    </div>
  </div>

  <!-- Mensaje cuando no hay resultados -->
  <div *ngIf="peliculasFiltradas.length === 0" class="no-resultados">
    <p>No se encontraron pel√≠culas que coincidan con los filtros seleccionados.</p>
  </div>
</div>
